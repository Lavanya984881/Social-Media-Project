<!DOCTYPE html>
<html lang="en">
<head>
    <title>HomePage</title>
    {% include 'cdnlines.html' %}
</head>
<style>
    body{
        background: linear-gradient(gray,wheat);
    }
    img{
        border: 2px solid pink;
    }
    .like-button {
    cursor:pointer;
    color: darkgreen;
    font-size: 25px;
    }  
    .liked {
    color: blue;
    }

</style>
<body>
    {% include 'navbar.html' %}
    <h2 class="text-center">NTH Social Media</h2>
    {% if data %}
    <div class="container-fluid">
        <div class="row">
            <div class="offset-md-1 col-md-10">
                {% for i in data %}
                <h2><b>{{ i.article_name }}</b></h2><br>
                <div id="dateDisplay"></div>

                <img src="{{ i.image.url }}" width="400" height="400"><br><br>
                <h5>{{ i.description }}</h5><br>
                
                <span class="like-button" data-liked="false" onclick="toggleLike(this)">
                    &#x2764; Like
                  </span>
                <span id="like-count">0</span>&nbsp; Likes                    
                <script>
                    function toggleLike(button){
                      const liked = button.getAttribute('data-liked') === 'true';
                      const likeCountElement = document.getElementById('like-count');
                      let likeCount = parseInt(likeCountElement.textContent, 10);
                
                      if (liked) {
                        button.setAttribute('data-liked', 'false');
                        button.textContent = 'üëç Like';
                        likeCount--;
                      } else {
                        button.setAttribute('data-liked', 'true');
                        button.textContent = 'üëç Liked';
                        likeCount++;
                      }
                
                      likeCountElement.textContent = likeCount;
                    }
                    var currentDate = new Date();

                    // Get the date components (day, month, year)
                    var day = currentDate.getDate();
                    var month = currentDate.getMonth() + 1; // Months are zero-based
                    var year = currentDate.getFullYear();

                    // Create a string in the format "dd/mm/yyyy"
                    var dateString = day + '/' + month + '/' + year;

                    // Find the HTML element by its id
                    var dateDisplayElement = document.getElementById('dateDisplay');

                    // Update the content of the element with the date string
                    dateDisplayElement.textContent = 'Date Of Publishing:' + dateString;
                  </script>
                {% endfor %}
            </div>
        </div>
    </div>
    {% else %}
    <h2 class="text-center text-primary">No Articles Are Availble</h2>
    {% endif %}
</body>
</html>